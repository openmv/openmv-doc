
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>11. Assembler directives &#8212; MicroPython 1.19 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="shortcut icon" href="../_static/openmv.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. Hints and tips" href="asm_thumb2_hints_tips.html" />
    <link rel="prev" title="10. Floating point instructions" href="asm_thumb2_float.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="asm_thumb2_hints_tips.html" title="1. Hints and tips"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="asm_thumb2_float.html" title="10. Floating point instructions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >MicroPython language and implementation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="asm_thumb2_index.html" accesskey="U">Inline assembler for Thumb2 architectures</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="assembler-directives">
<h1><span class="section-number">11. </span>Assembler directives<a class="headerlink" href="#assembler-directives" title="Permalink to this headline">¶</a></h1>
<div class="section" id="labels">
<h2><span class="section-number">11.1. </span>Labels<a class="headerlink" href="#labels" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>label(INNER1)</p></li>
</ul>
<p>This defines a label for use in a branch instruction. Thus elsewhere in the code a <code class="docutils literal notranslate"><span class="pre">b(INNER1)</span></code>
will cause execution to continue with the instruction after the label directive.</p>
</div>
<div class="section" id="defining-inline-data">
<h2><span class="section-number">11.2. </span>Defining inline data<a class="headerlink" href="#defining-inline-data" title="Permalink to this headline">¶</a></h2>
<p>The following assembler directives facilitate embedding data in an assembler code block.</p>
<ul class="simple">
<li><p>data(size, d0, d1 .. dn)</p></li>
</ul>
<p>The data directive creates n array of data values in memory. The first argument specifies the
size in bytes of the subsequent arguments. Hence the first statement below will cause the
assembler to put three bytes (with values 2, 3 and 4) into consecutive memory locations
while the second will cause it to emit two four byte words.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">data</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
</pre></div>
</div>
<p>Data values longer than a single byte are stored in memory in little-endian format.</p>
<ul class="simple">
<li><p>align(nBytes)</p></li>
</ul>
<p>Align the following instruction to an nBytes value. ARM Thumb-2 instructions must be two
byte aligned, hence it’s advisable to issue <code class="docutils literal notranslate"><span class="pre">align(2)</span></code> after <code class="docutils literal notranslate"><span class="pre">data</span></code> directives and
prior to any subsequent code. This ensures that the code will run irrespective of the
size of the data array.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/web-logo-sticky.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">11. Assembler directives</a><ul>
<li><a class="reference internal" href="#labels">11.1. Labels</a></li>
<li><a class="reference internal" href="#defining-inline-data">11.2. Defining inline data</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="asm_thumb2_float.html"
                        title="previous chapter"><span class="section-number">10. </span>Floating point instructions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="asm_thumb2_hints_tips.html"
                        title="next chapter"><span class="section-number">1. </span>Hints and tips</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/asm_thumb2_directives.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="asm_thumb2_hints_tips.html" title="1. Hints and tips"
             >next</a> |</li>
        <li class="right" >
          <a href="asm_thumb2_float.html" title="10. Floating point instructions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >MicroPython language and implementation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="asm_thumb2_index.html" >Inline assembler for Thumb2 architectures</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright - The MicroPython Documentation is Copyright © 2014-2023, Damien P. George, Paul Sokolovsky, and contributors.
      Last updated on 02 May 2023.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>