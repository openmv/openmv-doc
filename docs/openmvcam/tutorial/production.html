<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8. Releasing your OpenMV Cam Scripts for Production &mdash; MicroPython 1.20 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=d5a28fe3" />
      <link rel="stylesheet" href="../../_static/customstyle.css" type="text/css" />

  
    <link rel="shortcut icon" href="../../_static/openmv.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=6b422e2e"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9. More Information" href="more_information.html" />
    <link rel="prev" title="7. System Architecture" href="system_architecture.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            MicroPython
              <img src="../../_static/web-logo-sticky.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../library/index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">MicroPython language and implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">MicroPython license information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../quickref.html">Quick reference for the openmvcam</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../general.html">General information about the openmvcam</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">OpenMV Cam Tutorial</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="software_setup.html">2. Software Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="hardware_setup.html">3. Hardware Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="openmvide_overview.html">4. OpenMV IDE Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="script_structure.html">5. Script Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="io_tutorial.html">6. I/O Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_architecture.html">7. System Architecture</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">8. Releasing your OpenMV Cam Scripts for Production</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-to-freeze-your-scripts">8.1. How to freeze your scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-protect-your-code">8.2. How to protect your code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="more_information.html">9. More Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#general-openmv-cams-board-control">General OpenMV Cams Board Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#stm32-based-openmv-cams-general-board-control">STM32 Based OpenMV Cams General Board Control</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MicroPython</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../quickref.html">Quick reference for the openmvcam</a></li>
          <li class="breadcrumb-item"><a href="index.html">OpenMV Cam Tutorial</a></li>
      <li class="breadcrumb-item active"><span class="section-number">8. </span>Releasing your OpenMV Cam Scripts for Production</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/openmvcam/tutorial/production.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="releasing-your-openmv-cam-scripts-for-production">
<h1><span class="section-number">8. </span>Releasing your OpenMV Cam Scripts for Production<a class="headerlink" href="#releasing-your-openmv-cam-scripts-for-production" title="Permalink to this heading">¶</a></h1>
<p>Once you’ve got your OpenMV Cam Scripts working like you want and you are ready to ship your
product powered by OpenMV you need to freeze your scripts into the firmware. To do this you will
need to compile our firmware. Luckily, thanks to GitHub actions you can do this in the cloud
without having to install our build system.</p>
<p>For power users, we recommend setting up our firmware development environment so you can build the
firmware from the source. See how to do so <a class="reference external" href="https://github.com/openmv/openmv/blob/master/src/README.md">here</a>.</p>
<p>For everyone else, you can use GitHub actions. To do so, follow the below steps:</p>
<ol class="arabic simple">
<li><p>Get a GitHub account if you don’t already have one.</p></li>
<li><p>Fork the OpenMV firmware <a class="reference external" href="https://github.com/openmv/openmv">repo</a>.</p></li>
<li><p>Enable GitHub actions on your fork.</p></li>
</ol>
<p>After doing this, you can then edit files online in GitHub and your fork will automatically build a
new firmware image for your OpenMV Cam.</p>
<section id="how-to-freeze-your-scripts">
<h2><span class="section-number">8.1. </span>How to freeze your scripts<a class="headerlink" href="#how-to-freeze-your-scripts" title="Permalink to this heading">¶</a></h2>
<p>The process of freezing scripts into the firmware ensures that your code cannot be edited by your
end-users. Best of all, it means that your code will run without needing any files on the internal
flash and/or SD card. Additionally, any files on the internal flash or SD card will be overridden
by what scripts you freeze that have the same name.</p>
<p>Anyway, to freeze scripts you simply need to do the following:</p>
<ol class="arabic">
<li><p>Add your custom scripts to the <a class="reference external" href="https://github.com/openmv/openmv/tree/master/scripts/libraries">libraries folder</a>.</p></li>
<li><p>Rename your <code class="docutils literal notranslate"><span class="pre">main.py</span></code> script to <code class="docutils literal notranslate"><span class="pre">boot.py</span></code> so that it runs first before anything else.</p></li>
<li><p>Determine which <a class="reference external" href="https://github.com/openmv/openmv/tree/master/src/omv/boards">board folder</a>
corresponds to your OpenMV Cam.</p>
<blockquote>
<div><ul class="simple">
<li><p>OPENMV2 -&gt; OpenMV Cam M4.</p></li>
<li><p>OPENMV3 -&gt; OpenMV Cam M7.</p></li>
<li><p>OPENMV4 -&gt; OpenMV Cam H7.</p></li>
<li><p>OPENMV4P -&gt; OpenMV Cam H7 Plus.</p></li>
<li><p>Everything else should be straight forwards.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Edit the <code class="docutils literal notranslate"><span class="pre">manifest.py</span></code> file for your board type to include your scripts. If you just have
one script then this should at minimum include you adding <code class="docutils literal notranslate"><span class="pre">freeze</span> <span class="pre">(&quot;$(OMV_LIB_DIR)/&quot;,</span> <span class="pre">&quot;boot.py&quot;)</span></code>
to the <code class="docutils literal notranslate"><span class="pre">manifest.py</span></code> file.</p></li>
<li><p>Compile the code and generate the firmware image for your OpenMV Cam.</p></li>
</ol>
<p>Once you flash this new firmware image to your OpenMV Cam it will automatically start running
your script before doing anything else. No files on the internal flash or attached SD card will
be looked at before running your code. That said, your script can still determine if an SD card
is attached or not and read/write files. So, if you still want to be able to execute generic
scripts from the flash and/or sd card you can do so.</p>
</section>
<section id="how-to-protect-your-code">
<h2><span class="section-number">8.2. </span>How to protect your code<a class="headerlink" href="#how-to-protect-your-code" title="Permalink to this heading">¶</a></h2>
<p>Once you freeze your scripts into the firmware your code can only be extracted by tools that can
dump your OpenMV Cam’s program flash (or if you code in a back door vulnerability). All modern MCUs
feature ways for developers to protect their application from being read using debugging tools.
Right now, OpenMV does not offer a generic way for you to do this. We leave this up to you. However,
rest assured. If you really need to prevent anyone from seeing your scripts it’s absolutely possible.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="system_architecture.html" class="btn btn-neutral float-left" title="7. System Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="more_information.html" class="btn btn-neutral float-right" title="9. More Information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright - The MicroPython Documentation is Copyright © 2014-2023, Damien P. George, Paul Sokolovsky, and contributors.
      <span class="lastupdated">Last updated on 01 Dec 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Language and External Links</span>
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Language</dt>
      <dd>
        <a href="https://openmv.io">English</a>
      </dd>
      <dd>
        <a href="http://doc.singtown.cc">中文</a>
      </dd>
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
      <dd>
        <a href="https://openmv.io">openmv.io</a>
      </dd>
      <dd>
        <a href="http://forums.openmv.io">forums.openmv.io</a>
      </dd>
      <dd>
        <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
      </dd>
      <dd>
        <a href="http://micropython.org">micropython.org</a>
      </dd>
      <dd>
        <a href="http://forum.micropython.org">forum.micropython.org</a>
      </dd>
      <dd>
        <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
      </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>