<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Hardware Setup &mdash; MicroPython 1.19 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/customstyle.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/openmv.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4. OpenMV IDE Overview" href="openmvide_overview.html" />
    <link rel="prev" title="2. Software Setup" href="software_setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            MicroPython
              <img src="../../_static/web-logo-sticky.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.19
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../library/index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">MicroPython language and implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">MicroPython license information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../quickref.html">Quick reference for the openmvcam</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../general.html">General information about the openmvcam</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">OpenMV Cam Tutorial</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="software_setup.html">2. Software Setup</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3. Hardware Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usb-flash-drive-notes">3.1. USB Flash Drive Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="openmvide_overview.html">4. OpenMV IDE Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="script_structure.html">5. Script Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="io_tutorial.html">6. I/O Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_architecture.html">7. System Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="more_information.html">8. More Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#general-board-control">General board control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#delay-and-timing">Delay and timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#leds">LEDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#pins-and-gpio">Pins and GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#servo-control">Servo control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#external-interrupts">External interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#timers">Timers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#pwm-pulse-width-modulation">PWM (pulse width modulation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#adc-analog-to-digital-conversion">ADC (analog to digital conversion)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#dac-digital-to-analog-conversion">DAC (digital to analog conversion)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#uart-serial-bus">UART (serial bus)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#spi-bus">SPI bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickref.html#i2c-bus">I2C bus</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MicroPython</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../quickref.html">Quick reference for the openmvcam</a></li>
          <li class="breadcrumb-item"><a href="index.html">OpenMV Cam Tutorial</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3. </span>Hardware Setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/openmvcam/tutorial/hardware_setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="hardware-setup">
<h1><span class="section-number">3. </span>Hardware Setup<a class="headerlink" href="#hardware-setup" title="Permalink to this heading">¶</a></h1>
<p>Before connecting your OpenMV Cam to your computer you’ll want to clean the
camera IC first. You’ll need some type of cloth that doesn’t leave behind
strands (like a microfiber cloth used to clean eye-glasses) and some isopropyl
alcohol.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Use a screw driver to remove the two lens mount screw from the lens
mount on your OpenMV Cam.</p></li>
<li><p>Apply some isopropyl alcohol to a small part of the cloth.</p></li>
<li><p>Rub the wet part of the cloth on the camera IC gently. Any dirt spots on
the camera IC will be microscopic to the human eye so just try to
generally rub down the top of the camera IC. Note that the top of the
camera IC is glass.</p></li>
<li><p>After cleaning the camera IC make sure the alcohol has evaporated
completely and that no cloth strands were left behind. Note that we’re
using isopropyl alcohol versus water since isopropyl alcohol evaporates
quickly and doesn’t leave anything behind.</p></li>
<li><p>Use the screw driver to re-attach the lens mount. Make sure that the set
screw on the lens mount points off the top/back of the OpenMV Cam.</p></li>
</ol>
</div></blockquote>
<p>Next, find a micro-usb cable and connect your OpenMV Cam to your computer and
then launch OpenMV IDE.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please be gentle with the micro-usb cable. When connecting or disconnecting
the micro-usb cable to your OpenMV Cam please move the cable side-to-side
and not up-and-down. You can easily rip off the micro-usb connector on our
first generation of OpenMV Cams (OpenMV Cam M4) with up-and-down movement.
Our second generating OpenMV Cam (OpenMV Cam M7) uses a micro-usb connector
with through-hole strain relief pins to be more robust.</p>
</div>
<p>On windows you should see some notifications about windows installing drivers
and such. Wait until windows finishes installing drivers, your OpenMV Cam’s
USB flash drive appears, and the blue led on your OpenMV Cam is blinking before
trying to connect with OpenMV IDE.</p>
<p>On mac or linux please wait until your OpenMV Cam’s USB flash drive file
browser window appears (you may have to click on it for the operating system to
mount it) and the blue led on your OpenMV Cam is blinking before trying to
connect with OpenMV IDE.</p>
<p>If your OpenMV Cam appears unresponsive after connecting to the computer that
is okay too. If you didn’t see a green light flashing right after it was
connected then we can use DFU to re-program your OpenMV Cam. If you saw a green
light but no USB flash drive appeared then we can still use DFU to re-program.</p>
<p>Next, launch OpenMV IDE and click on the connect button (lower left-hand corner
in OpenMV IDE). OpenMV IDE should then automatically connect to your OpenMV
Cam. However, you may get a few different errors your first time:</p>
<blockquote>
<div><ul class="simple">
<li><p>If OpenMV IDE gives you an error about not being able to find a
corresponding drive to mount then you need to make sure that the USB
flash drive the OpenMV Cam appears as is mounted. In particular, linux
does not always amount mount USB flash drives like Windows and Mac do.
You can force a mount in Ubuntu for example by clicking on the flash
drive icon that will appear in the launcher menu. Anyway, after getting
this error and mounting the drive just click on the <code class="docutils literal notranslate"><span class="pre">Drive:</span></code> label
on the bottom right-hand side of OpenMV IDE to connect to the OpenMV
Cam’s flash drive after the OpenMV IDE has connected to your OpenMV
Cam’s serial port.</p></li>
<li><p>If OpenMV IDE can’t connect to your OpenMV Cam at all it will ask you if
you have an OpenMV Cam connected to the PC. There are two possible
reasons for this. First, your micro-usb cable may be a power only
cable. A large number of micro-usb cables are so make sure that it’s
a power and data micro-usb cable and that it’s not broken. I.e. test
the cable with a known working micro-usb device. Otherwise, your OpenMV
Cam’s firmware might not be working. To fix this just follow the
prompts OpenMV IDE displays after clicking connect.</p>
<ul>
<li><p>If your OpenMV Cam’s boot-loader is working (green light flashes on
power-on) and your computer can connect to our boot-loader then
OpenMV IDE should be able to automatically update your OpenMV Cam’s
firmware for you.</p></li>
<li><p>If your OpenMV Cam’s boot-loader isn’t working (green light doesn’t
flash on power-on) or your computer can’t connect to our
boot-loader OpenMV IDE will display a “connecting” box. You can try
unplugging your OpenMV Cam and plugging it back in, this may fix
the issue, otherwise click cancel and then OpenMV IDE will ask if
you want to use DFU to recover your OpenMV Cam’s firmware. Say yes
and follow the prompts to recover your OpenMV Cam’s firmware via
DFU. DFU should 100% work to recover your OpenMV Cam on Windows and
should work on Mac and Linux if you installed DFU support. However,
on Mac and Linux the first connection since the OpenMV Cam was
plugged into your computer may fail. Just try again and it should
work the second time.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Anyway, once you’ve connected to your OpenMV Cam the firmware may be
out-of-date. To update your firmware please click on the <code class="docutils literal notranslate"><span class="pre">Firmware</span> <span class="pre">Version:</span></code>
label on the bottom right-hand side of OpenMV IDE if it says your firmware is
out-of-date. OpenMV IDE will then automatically update your OpenMV Cam’s
firmware. If there’s a problem connecting to your OpenMV Cam’s boot-loader on
your computer OpenMV IDE will try to update your firmware using DFU. Please
follow the prompts to update your firmware via DFU. As mentioned above with DFU
on Mac and Linux please try updating via DFU twice if the first time fails.</p>
<p>Moving on, once your OpenMV Cam’s firmware is up-to-date please run the
<code class="docutils literal notranslate"><span class="pre">hello_world.py</span></code> script you see in front of you in OpenMV IDE. To do this
simply click on the green run button (bottom left-hand corner) in OpenMV IDE.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">hello_world.py</span></code> script turns your OpenMV Cam into a webcam showing you
what it sees. If this is the first time you’ve run your OpenMV Cam the lens
will be out of focus. To focus the lens do the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Make sure the set screw is not fully screwed in and that you can screw
the lens in easily.</p></li>
<li><p>Screw the lens in until the image comes into focus in OpenMV IDE’s
frame buffer.</p></li>
<li><p>Tighten the set screw on your OpenMV Cam’s lens mount to prevent the
lens from moving anymore. Note that the set screw doesn’t dig into the
lens threads but instead just creates a bump in the plastic preventing
the lens from unscrewing anymore.</p></li>
</ol>
</div></blockquote>
<p>Your OpenMV Cam is ready to use now!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We require you to manually clean your OpenMV Cam camera IC and then focus
the lens because it’s very expensive for us to do this currently. As we
increase our production volume we’ll be able to do this eventually for you.
Note that all OpenMV Cam camera ICs are cleaned before being packaged, but,
since focusing is not done our manufacturer can’t tell if the camera IC is
clean. The quality control test we use for each OpenMV Cam only verifies
that the camera IC is connected properly and operating normally.</p>
</div>
<section id="usb-flash-drive-notes">
<h2><span class="section-number">3.1. </span>USB Flash Drive Notes<a class="headerlink" href="#usb-flash-drive-notes" title="Permalink to this heading">¶</a></h2>
<p>Your OpenMV Cam has a USB flash drive built-into it. This flash drive appears
when your OpenMV Cam is plugged into your computer. There are a few things you
should know about this flash drive:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Windows/Mac/Linux assume USB flash drives can’t create files by
themselves. So, if you create a file on our OpenMV Cam in a script
Window/Mac/Linux won’t detect that the new file exists until you either
reset your OpenMV Cam using OpenMV IDE (see Tools-&gt;Reset) or disconnect
and then reconnect your OpenMV Cam to your computer.</p></li>
<li><p>If you see a red light blinking on your OpenMV Cam while it’s connected
to your computer that’s just a notification that your computer is
accessing your OpenMV Cam’s USB drive.</p></li>
<li><p>If you corrupt the state of the internal USB flash drive of your OpenMV
Cam you can reformat the flash drive either through your operating
systems reformatting tool or by re-installing your OpenMV Cam’s
firmware and selecting the “erase internal flash drive” option.</p></li>
<li><p>You can accidentally corrupt your OpenMV Cam’s internal flash drive
state by trying to save images to the internal flash drive (i.e. using
up all the space of the small flash drive because most images are
larger than the internal flash drive which is only a few KB), or if
power is removed from your OpenMV Cam while it’s saving something.
The internal flash drive uses the FAT filesystem which has no ability
to recover from partial writes due to power failure like modern file
systems such as NTFS (Windows) on your PC. NTFS does something called
journaling which involves writing what it’s about to do in a scratch
buffer, doing what it wrote in the scratch buffer, and then clearing
the scratch buffer. This allows NTFS to recover if power is lost by
looking at the scratch buffer. FAT, the file system used by DOS,
Windows 95/98, etc. doesn’t have this feature so if power is lost while
it’s writing to a file the whole drive could be corrupted. Why use FAT
then? Because it’s the de-facto standard for USB Flash Drives, but,
more importantly there are open-source drivers for it and it’s not
under patent protection.</p></li>
<li><p>In general, avoid writing to your OpenMV Cam’s internal flash drive in
a python script. Instead, just use the internal flash drive to store
assets manually copied onto your OpenMV Cam while it is connected to
your computer by you.</p></li>
<li><p>After manually copying assets to your OpenMV Cam’s internal flash drive
please use the safety remove hardware feature before unplugging your
OpenMV Cam (or not, the system won’t break if you ignore doing this).</p></li>
<li><p>Windows may ask to scan and fix the USB Flash Drive before mounting it.
You can either say yes or no to this. Windows will generally only ask
if the power was turned off on the the internal flash drive during a
write. So, if Windows asks to scan and fix the drive then let it.</p></li>
<li><p>Finally, if you insert a micro-sd card into the micro-sd card slot on
your OpenMV Cam the micro-sd card will replace the internal flash drive
for all of the above. The OpenMV Cam supports micro-sd cards up to
2 TB in size that are formatted with a FAT12, FAT16, FAT32, and ex-FAT
filesystem. In particular, we support SD, SDHC, and SDXC micro-sd cards.
Last, feel free to save pictures/video on a micro-sd card. Just
don’t do this on your OpenMV Cam’s internal flash drive.</p></li>
</ol>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="software_setup.html" class="btn btn-neutral float-left" title="2. Software Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="openmvide_overview.html" class="btn btn-neutral float-right" title="4. OpenMV IDE Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright - The MicroPython Documentation is Copyright © 2014-2023, Damien P. George, Paul Sokolovsky, and contributors.
      <span class="lastupdated">Last updated on 17 May 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Language and External Links</span>
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Language</dt>
      <dd>
        <a href="https://openmv.io">English</a>
      </dd>
      <dd>
        <a href="http://doc.singtown.cc">中文</a>
      </dd>
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
      <dd>
        <a href="https://openmv.io">openmv.io</a>
      </dd>
      <dd>
        <a href="http://forums.openmv.io">forums.openmv.io</a>
      </dd>
      <dd>
        <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
      </dd>
      <dd>
        <a href="http://micropython.org">micropython.org</a>
      </dd>
      <dd>
        <a href="http://forum.micropython.org">forum.micropython.org</a>
      </dd>
      <dd>
        <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
      </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>