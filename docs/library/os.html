<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>os – basic “operating system” services &mdash; MicroPython 1.20 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/openmv.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="random – generate random numbers" href="random.html" />
    <link rel="prev" title="math – mathematical functions" href="math.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MicroPython
              <img src="../_static/web-logo-sticky.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MicroPython libraries</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#python-standard-libraries-and-micro-libraries">Python standard libraries and micro-libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="array.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">array</span></code> – arrays of numeric data</a></li>
<li class="toctree-l3"><a class="reference internal" href="binascii.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">binascii</span></code> – binary/ASCII conversions</a></li>
<li class="toctree-l3"><a class="reference internal" href="builtins.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code> – builtin functions and exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmath.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code> – mathematical functions for complex numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="collections.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> – collection and container types</a></li>
<li class="toctree-l3"><a class="reference internal" href="errno.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">errno</span></code> – system error codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="gc.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gc</span></code> – control the garbage collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="hashlib.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code> – hashing algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="heapq.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">heapq</span></code> – heap queue algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code> – input/output streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code> – JSON encoding and decoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="math.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code> – mathematical functions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code> – basic “operating system” services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-functions">General functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem-access">Filesystem access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#terminal-redirection-and-duplication">Terminal redirection and duplication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem-mounting">Filesystem mounting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#block-devices">Block devices</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="random.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">random</span></code> – generate random numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="re.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code> – simple regular expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="select.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">select</span></code> – wait for events on a set of streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="socket.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">socket</span></code> – socket module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssl.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code> – SSL/TLS module</a></li>
<li class="toctree-l3"><a class="reference internal" href="struct.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">struct</span></code> – pack and unpack primitive data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="sys.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code> – system specific functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="time.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code> – time related functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="uasyncio.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uasyncio</span></code> — asynchronous I/O scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="zlib.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code> – zlib decompression</a></li>
<li class="toctree-l3"><a class="reference internal" href="_thread.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_thread</span></code> – multithreading support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#micropython-specific-libraries">MicroPython-specific libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#libraries-specific-to-the-openmv-cam">Libraries specific to the OpenMV Cam</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#third-party-libraries-on-the-openmv-cam">Third-party libraries on the OpenMV Cam</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#extending-built-in-libraries-from-python">Extending built-in libraries from Python</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">MicroPython language and implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">MicroPython license information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/quickref.html">Quick reference for the openmvcam</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroPython</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">MicroPython libraries</a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code> – basic “operating system” services</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/library/os.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-os">
<span id="os-basic-operating-system-services"></span><h1><a class="reference internal" href="#module-os" title="os: basic &quot;operating system&quot; services"><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a> – basic “operating system” services<a class="headerlink" href="#module-os" title="Permalink to this heading">¶</a></h1>
<p><em>This module implements a subset of the corresponding</em> <a class="reference internal" href="../reference/glossary.html#term-CPython"><span class="xref std std-term">CPython</span></a> <em>module,
as described below. For more information, refer to the original
CPython documentation:</em> <a class="reference external" href="https://docs.python.org/3.5/library/os.html#module-os" title="(in Python v3.5)"><code class="docutils literal notranslate"><span class="pre">os</span></code></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">os</span></code> module contains functions for filesystem access and mounting,
terminal redirection and duplication, and the <code class="docutils literal notranslate"><span class="pre">uname</span></code> and <code class="docutils literal notranslate"><span class="pre">urandom</span></code>
functions.</p>
<section id="general-functions">
<h2>General functions<a class="headerlink" href="#general-functions" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="os.uname">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">uname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#os.uname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple (possibly a named tuple) containing information about the
underlying machine and/or its operating system.  The tuple has five fields
in the following order, each of them being a string:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sysname</span></code> – the name of the underlying system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nodename</span></code> – the network name (can be the same as <code class="docutils literal notranslate"><span class="pre">sysname</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">release</span></code> – the version of the underlying system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> – the MicroPython version and build date</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">machine</span></code> – an identifier for the underlying hardware (eg board, CPU)</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.urandom">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">urandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.urandom" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bytes object with <em>n</em> random bytes. Whenever possible, it is
generated by the hardware random number generator.</p>
</dd></dl>

</section>
<section id="filesystem-access">
<h2>Filesystem access<a class="headerlink" href="#filesystem-access" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="os.chdir">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">chdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change current directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.getcwd">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">getcwd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#os.getcwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.ilistdir">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">ilistdir</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#os.ilistdir" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns an iterator which then yields tuples corresponding to
the entries in the directory that it is listing.  With no argument it lists the
current directory, otherwise it lists the directory given by <em>dir</em>.</p>
<p>The tuples have the form <em>(name, type, inode[, size])</em>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>name</em> is a string (or bytes if <em>dir</em> is a bytes object) and is the name of
the entry;</p></li>
<li><p><em>type</em> is an integer that specifies the type of the entry, with 0x4000 for
directories and 0x8000 for regular files;</p></li>
<li><p><em>inode</em> is an integer corresponding to the inode of the file, and may be 0
for filesystems that don’t have such a notion.</p></li>
<li><p>Some platforms may return a 4-tuple that includes the entry’s <em>size</em>.  For
file entries, <em>size</em> is an integer representing the size of the file
or -1 if unknown.  Its meaning is currently undefined for directory
entries.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.listdir">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">listdir</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#os.listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>With no argument, list the current directory.  Otherwise list the given directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.mkdir">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">mkdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.remove">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.rmdir">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">rmdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.rmdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.rename">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.stat">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">stat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the status of a file or directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.statvfs">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">statvfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.statvfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the status of a fileystem.</p>
<p>Returns a tuple with the filesystem information in the following order:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f_bsize</span></code> – file system block size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_frsize</span></code> – fragment size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_blocks</span></code> – size of fs in f_frsize units</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_bfree</span></code> – number of free blocks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_bavail</span></code> – number of free blocks for unprivileged users</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_files</span></code> – number of inodes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_ffree</span></code> – number of free inodes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_favail</span></code> – number of free inodes for unprivileged users</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_flag</span></code> – mount flags</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_namemax</span></code> – maximum filename length</p></li>
</ul>
</div></blockquote>
<p>Parameters related to inodes: <code class="docutils literal notranslate"><span class="pre">f_files</span></code>, <code class="docutils literal notranslate"><span class="pre">f_ffree</span></code>, <code class="docutils literal notranslate"><span class="pre">f_avail</span></code>
and the <code class="docutils literal notranslate"><span class="pre">f_flags</span></code> parameter may return <code class="docutils literal notranslate"><span class="pre">0</span></code> as they can be unavailable
in a port-specific implementation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.sync">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">sync</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#os.sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync all filesystems.</p>
</dd></dl>

</section>
<section id="terminal-redirection-and-duplication">
<h2>Terminal redirection and duplication<a class="headerlink" href="#terminal-redirection-and-duplication" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="os.dupterm">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">dupterm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.dupterm" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate or switch the MicroPython terminal (the REPL) on the given <a class="reference internal" href="../reference/glossary.html#term-stream"><span class="xref std std-term">stream</span></a>-like
object. The <em>stream_object</em> argument must be a native stream object, or derive
from <code class="docutils literal notranslate"><span class="pre">io.IOBase</span></code> and implement the <code class="docutils literal notranslate"><span class="pre">readinto()</span></code> and
<code class="docutils literal notranslate"><span class="pre">write()</span></code> methods.  The stream should be in non-blocking mode and
<code class="docutils literal notranslate"><span class="pre">readinto()</span></code> should return <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no data available for reading.</p>
<p>After calling this function all terminal output is repeated on this stream,
and any input that is available on the stream is passed on to the terminal input.</p>
<p>The <em>index</em> parameter should be a non-negative integer and specifies which
duplication slot is set.  A given port may implement more than one slot (slot 0
will always be available) and in that case terminal input and output is
duplicated on all the slots that are set.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed as the <em>stream_object</em> then duplication is cancelled on
the slot given by <em>index</em>.</p>
<p>The function returns the previous stream-like object in the given slot.</p>
</dd></dl>

</section>
<section id="filesystem-mounting">
<h2>Filesystem mounting<a class="headerlink" href="#filesystem-mounting" title="Permalink to this heading">¶</a></h2>
<p>Some ports provide a Virtual Filesystem (VFS) and the ability to mount multiple
“real” filesystems within this VFS.  Filesystem objects can be mounted at either
the root of the VFS, or at a subdirectory that lives in the root.  This allows
dynamic and flexible configuration of the filesystem that is seen by Python
programs.  Ports that have this functionality provide the <a class="reference internal" href="#os.mount" title="os.mount"><code class="xref py py-func docutils literal notranslate"><span class="pre">mount()</span></code></a> and
<a class="reference internal" href="#os.umount" title="os.umount"><code class="xref py py-func docutils literal notranslate"><span class="pre">umount()</span></code></a> functions, and possibly various filesystem implementations
represented by VFS classes.</p>
<dl class="py function">
<dt class="sig sig-object py" id="os.mount">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fsobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mount_point</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount the filesystem object <em>fsobj</em> at the location in the VFS given by the
<em>mount_point</em> string.  <em>fsobj</em> can be a a VFS object that has a <code class="docutils literal notranslate"><span class="pre">mount()</span></code>
method, or a block device.  If it’s a block device then the filesystem type
is automatically detected (an exception is raised if no filesystem was
recognised).  <em>mount_point</em> may be <code class="docutils literal notranslate"><span class="pre">'/'</span></code> to mount <em>fsobj</em> at the root,
or <code class="docutils literal notranslate"><span class="pre">'/&lt;name&gt;'</span></code> to mount it at a subdirectory under the root.</p>
<p>If <em>readonly</em> is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the filesystem is mounted read-only.</p>
<p>During the mount process the method <code class="docutils literal notranslate"><span class="pre">mount()</span></code> is called on the filesystem
object.</p>
<p>Will raise <code class="docutils literal notranslate"><span class="pre">OSError(EPERM)</span></code> if <em>mount_point</em> is already mounted.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="os.umount">
<span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">umount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mount_point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.umount" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount a filesystem. <em>mount_point</em> can be a string naming the mount location,
or a previously-mounted filesystem object.  During the unmount process the
method <code class="docutils literal notranslate"><span class="pre">umount()</span></code> is called on the filesystem object.</p>
<p>Will raise <code class="docutils literal notranslate"><span class="pre">OSError(EINVAL)</span></code> if <em>mount_point</em> is not found.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="os.VfsFat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">VfsFat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsFat" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a filesystem object that uses the FAT filesystem format.  Storage of
the FAT filesystem is provided by <em>block_dev</em>.
Objects created by this constructor can be mounted using <a class="reference internal" href="#os.mount" title="os.mount"><code class="xref py py-func docutils literal notranslate"><span class="pre">mount()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="os.VfsFat.mkfs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mkfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsFat.mkfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a FAT filesystem on <em>block_dev</em>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="os.VfsLfs1">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">VfsLfs1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsLfs1" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a filesystem object that uses the <a class="reference external" href="https://github.com/ARMmbed/littlefs/tree/v1">littlefs v1 filesystem format</a>.
Storage of the littlefs filesystem is provided by <em>block_dev</em>, which must
support the <a class="reference internal" href="#block-device-interface"><span class="std std-ref">extended interface</span></a>.
Objects created by this constructor can be mounted using <a class="reference internal" href="#os.mount" title="os.mount"><code class="xref py py-func docutils literal notranslate"><span class="pre">mount()</span></code></a>.</p>
<p>See <a class="reference internal" href="../reference/filesystem.html#filesystem"><span class="std std-ref">Working with filesystems</span></a> for more information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="os.VfsLfs1.mkfs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mkfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsLfs1.mkfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a Lfs1 filesystem on <em>block_dev</em>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are reports of littlefs v1 failing in certain situations,
for details see <a class="reference external" href="https://github.com/ARMmbed/littlefs/issues/347">littlefs issue 347</a>.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="os.VfsLfs2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">VfsLfs2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsLfs2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a filesystem object that uses the <a class="reference external" href="https://github.com/ARMmbed/littlefs">littlefs v2 filesystem format</a>.
Storage of the littlefs filesystem is provided by <em>block_dev</em>, which must
support the <a class="reference internal" href="#block-device-interface"><span class="std std-ref">extended interface</span></a>.
Objects created by this constructor can be mounted using <a class="reference internal" href="#os.mount" title="os.mount"><code class="xref py py-func docutils literal notranslate"><span class="pre">mount()</span></code></a>.</p>
<p>The <em>mtime</em> argument enables modification timestamps for files, stored using
littlefs attributes.  This option can be disabled or enabled differently each
mount time and timestamps will only be added or updated if <em>mtime</em> is enabled,
otherwise the timestamps will remain untouched.  Littlefs v2 filesystems without
timestamps will work without reformatting and timestamps will be added
transparently to existing files once they are opened for writing.  When <em>mtime</em>
is enabled <a class="reference internal" href="#os.stat" title="os.stat"><code class="xref any py py-func docutils literal notranslate"><span class="pre">os.stat</span></code></a> on files without timestamps will return 0 for the timestamp.</p>
<p>See <a class="reference internal" href="../reference/filesystem.html#filesystem"><span class="std std-ref">Working with filesystems</span></a> for more information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="os.VfsLfs2.mkfs">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mkfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_dev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.VfsLfs2.mkfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a Lfs2 filesystem on <em>block_dev</em>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are reports of littlefs v2 failing in certain situations,
for details see <a class="reference external" href="https://github.com/ARMmbed/littlefs/issues/295">littlefs issue 295</a>.</p>
</div>
</dd></dl>

</section>
<section id="block-devices">
<h2>Block devices<a class="headerlink" href="#block-devices" title="Permalink to this heading">¶</a></h2>
<p>A block device is an object which implements the block protocol. This enables a
device to support MicroPython filesystems. The physical hardware is represented
by a user defined class. The <a class="reference internal" href="#os.AbstractBlockDev" title="os.AbstractBlockDev"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractBlockDev</span></code></a> class is a template for
the design of such a class: MicroPython does not actually provide that class,
but an actual block device class must implement the methods described below.</p>
<p>A concrete implementation of this class will usually allow access to the
memory-like functionality of a piece of hardware (like flash memory). A block
device can be formatted to any supported filesystem and mounted using <code class="docutils literal notranslate"><span class="pre">os</span></code>
methods.</p>
<p>See <a class="reference internal" href="../reference/filesystem.html#filesystem"><span class="std std-ref">Working with filesystems</span></a> for example implementations of block devices using the
two variants of the block protocol described below.</p>
<section id="simple-and-extended-interface">
<span id="block-device-interface"></span><h3>Simple and extended interface<a class="headerlink" href="#simple-and-extended-interface" title="Permalink to this heading">¶</a></h3>
<p>There are two compatible signatures for the <code class="docutils literal notranslate"><span class="pre">readblocks</span></code> and <code class="docutils literal notranslate"><span class="pre">writeblocks</span></code>
methods (see below), in order to support a variety of use cases.  A given block
device may implement one form or the other, or both at the same time. The second
form (with the offset parameter) is referred to as the “extended interface”.</p>
<p>Some filesystems (such as littlefs) that require more control over write
operations, for example writing to sub-block regions without erasing, may require
that the block device supports the extended interface.</p>
<dl class="py class">
<dt class="sig sig-object py" id="os.AbstractBlockDev">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">os.</span></span><span class="sig-name descname"><span class="pre">AbstractBlockDev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.AbstractBlockDev" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a block device object.  The parameters to the constructor are
dependent on the specific block device.</p>
<dl class="py method">
<dt class="sig sig-object py" id="os.AbstractBlockDev.readblocks">
<span class="sig-name descname"><span class="pre">readblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.AbstractBlockDev.readblocks" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">readblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>The first form reads aligned, multiples of blocks.
Starting at the block given by the index <em>block_num</em>, read blocks from
the device into <em>buf</em> (an array of bytes).
The number of blocks to read is given by the length of <em>buf</em>,
which will be a multiple of the block size.</p>
<p>The second form allows reading at arbitrary locations within a block,
and arbitrary lengths.
Starting at block index <em>block_num</em>, and byte offset within that block
of <em>offset</em>, read bytes from the device into <em>buf</em> (an array of bytes).
The number of bytes to read is given by the length of <em>buf</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="os.AbstractBlockDev.writeblocks">
<span class="sig-name descname"><span class="pre">writeblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.AbstractBlockDev.writeblocks" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">writeblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>The first form writes aligned, multiples of blocks, and requires that the
blocks that are written to be first erased (if necessary) by this method.
Starting at the block given by the index <em>block_num</em>, write blocks from
<em>buf</em> (an array of bytes) to the device.
The number of blocks to write is given by the length of <em>buf</em>,
which will be a multiple of the block size.</p>
<p>The second form allows writing at arbitrary locations within a block,
and arbitrary lengths.  Only the bytes being written should be changed,
and the caller of this method must ensure that the relevant blocks are
erased via a prior <code class="docutils literal notranslate"><span class="pre">ioctl</span></code> call.
Starting at block index <em>block_num</em>, and byte offset within that block
of <em>offset</em>, write bytes from <em>buf</em> (an array of bytes) to the device.
The number of bytes to write is given by the length of <em>buf</em>.</p>
<p>Note that implementations must never implicitly erase blocks if the offset
argument is specified, even if it is zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="os.AbstractBlockDev.ioctl">
<span class="sig-name descname"><span class="pre">ioctl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#os.AbstractBlockDev.ioctl" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Control the block device and query its parameters.  The operation to
perform is given by <em>op</em> which is one of the following integers:</p>
<blockquote>
<div><ul class="simple">
<li><p>1 – initialise the device (<em>arg</em> is unused)</p></li>
<li><p>2 – shutdown the device (<em>arg</em> is unused)</p></li>
<li><p>3 – sync the device (<em>arg</em> is unused)</p></li>
<li><p>4 – get a count of the number of blocks, should return an integer
(<em>arg</em> is unused)</p></li>
<li><p>5 – get the number of bytes in a block, should return an integer,
or <code class="docutils literal notranslate"><span class="pre">None</span></code> in which case the default value of 512 is used
(<em>arg</em> is unused)</p></li>
<li><p>6 – erase a block, <em>arg</em> is the block number to erase</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>As a minimum <code class="docutils literal notranslate"><span class="pre">ioctl(4,</span> <span class="pre">...)</span></code> must be intercepted; for littlefs
<code class="docutils literal notranslate"><span class="pre">ioctl(6,</span> <span class="pre">...)</span></code> must also be intercepted. The need for others is
hardware dependent.</p>
<p>Prior to any call to <code class="docutils literal notranslate"><span class="pre">writeblocks(block,</span> <span class="pre">...)</span></code> littlefs issues
<code class="docutils literal notranslate"><span class="pre">ioctl(6,</span> <span class="pre">block)</span></code>. This enables a device driver to erase the block
prior to a write if the hardware requires it. Alternatively a driver
might intercept <code class="docutils literal notranslate"><span class="pre">ioctl(6,</span> <span class="pre">block)</span></code> and return 0 (success). In this case
the driver assumes responsibility for detecting the need for erasure.</p>
<p>Unless otherwise stated <code class="docutils literal notranslate"><span class="pre">ioctl(op,</span> <span class="pre">arg)</span></code> can return <code class="docutils literal notranslate"><span class="pre">None</span></code>.
Consequently an implementation can ignore unused values of <code class="docutils literal notranslate"><span class="pre">op</span></code>. Where
<code class="docutils literal notranslate"><span class="pre">op</span></code> is intercepted, the return value for operations 4 and 5 are as
detailed above. Other operations should return 0 on success and non-zero
for failure, with the value returned being an <code class="docutils literal notranslate"><span class="pre">OSError</span></code> errno code.</p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="math.html" class="btn btn-neutral float-left" title="math – mathematical functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="random.html" class="btn btn-neutral float-right" title="random – generate random numbers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright - The MicroPython Documentation is Copyright © 2014-2023, Damien P. George, Paul Sokolovsky, and contributors.
      <span class="lastupdated">Last updated on 19 Jul 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Language and External Links</span>
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Language</dt>
      <dd>
        <a href="https://openmv.io">English</a>
      </dd>
      <dd>
        <a href="http://doc.singtown.cc">中文</a>
      </dd>
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
      <dd>
        <a href="https://openmv.io">openmv.io</a>
      </dd>
      <dd>
        <a href="http://forums.openmv.io">forums.openmv.io</a>
      </dd>
      <dd>
        <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
      </dd>
      <dd>
        <a href="http://micropython.org">micropython.org</a>
      </dd>
      <dd>
        <a href="http://forum.micropython.org">forum.micropython.org</a>
      </dd>
      <dd>
        <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
      </dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>